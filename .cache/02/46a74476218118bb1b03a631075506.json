{"id":"node_modules/preact-async-route/dist/index.js","dependencies":[{"name":"C:\\Users\\wasuwatl\\work\\preact-wouter\\node_modules\\preact-async-route\\dist\\index.js.map","includedInParent":true,"mtime":1530547103000},{"name":"C:\\Users\\wasuwatl\\work\\preact-wouter\\package.json","includedInParent":true,"mtime":1560935387310},{"name":"C:\\Users\\wasuwatl\\work\\preact-wouter\\node_modules\\preact-async-route\\package.json","includedInParent":true,"mtime":1560933397393},{"name":"preact","loc":{"line":2,"column":97},"parent":"C:\\Users\\wasuwatl\\work\\preact-wouter\\node_modules\\preact-async-route\\dist\\index.js","resolved":"C:\\Users\\wasuwatl\\work\\preact-wouter\\node_modules\\preact\\dist\\preact.mjs"}],"generated":{"js":"var define;\nvar global = arguments[3];\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('preact')) :\n\ttypeof define === 'function' && define.amd ? define(['preact'], factory) :\n\t(global['preact-async-route'] = factory(global.preact));\n}(this, (function (preact) { 'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar AsyncRoute = function (_Component) {\n\t_inherits(AsyncRoute, _Component);\n\n\tfunction AsyncRoute() {\n\t\t_classCallCheck(this, AsyncRoute);\n\n\t\tvar _this = _possibleConstructorReturn(this, _Component.call(this));\n\n\t\t_this.state = {\n\t\t\tcomponentData: null\n\t\t};\n\t\treturn _this;\n\t}\n\n\tAsyncRoute.prototype.loadComponent = function loadComponent() {\n\t\tvar _this2 = this;\n\n\t\tif (this.props.component) {\n\t\t\treturn this.setState({\n\t\t\t\tcomponentData: this.props.component\n\t\t\t});\n\t\t}\n\t\tvar componentData = this.props.getComponent(this.props.url, function (_ref) {\n\t\t\tvar component = _ref.component;\n\n\t\t\t// Named param for making callback future proof\n\t\t\tif (component) {\n\t\t\t\t_this2.setState({\n\t\t\t\t\tcomponentData: component\n\t\t\t\t});\n\t\t\t}\n\t\t}, _extends({}, this.props, this.props.matches));\n\n\t\t// In case returned value was a promise\n\t\tif (componentData && componentData.then) {\n\t\t\t// IIFE to check if a later ending promise was creating a race condition\n\t\t\t// Check test case for more info\n\t\t\t(function (url) {\n\t\t\t\tcomponentData.then(function (component) {\n\t\t\t\t\tif (url !== _this2.props.url) {\n\t\t\t\t\t\t_this2.setState({ componentData: null }, function () {\n\t\t\t\t\t\t\t_this2.loadComponent();\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t_this2.setState({\n\t\t\t\t\t\tcomponentData: component\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t})(this.props.url);\n\t\t}\n\t};\n\n\tAsyncRoute.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n\t\tvar _this3 = this;\n\n\t\tif (this.props.path && this.props.path !== nextProps.path) {\n\t\t\tthis.setState({\n\t\t\t\tcomponentData: null\n\t\t\t}, function () {\n\t\t\t\t_this3.loadComponent();\n\t\t\t});\n\t\t}\n\t};\n\n\tAsyncRoute.prototype.componentWillMount = function componentWillMount() {\n\t\tthis.loadComponent();\n\t};\n\n\tAsyncRoute.prototype.render = function render() {\n\t\tif (this.state.componentData) {\n\t\t\treturn preact.h(this.state.componentData, this.props);\n\t\t} else if (this.props.loading) {\n\t\t\tvar loadingComponent = this.props.loading();\n\t\t\treturn loadingComponent;\n\t\t}\n\t\treturn null;\n\t};\n\n\treturn AsyncRoute;\n}(preact.Component);\n\nreturn AsyncRoute;\n\n})));\n\n"},"sourceMaps":{"js":{"mappings":[{"source":"../src/index.js","name":null,"original":{"line":1,"column":0},"generated":{"line":17,"column":0}},{"source":"../src/index.js","name":"AsyncRoute","original":{"line":3,"column":6},"generated":{"line":17,"column":4}},{"source":"../src/index.js","name":null,"original":{"line":4,"column":15},"generated":{"line":20,"column":23}},{"source":"../src/index.js","name":null,"original":{"line":5,"column":2},"generated":{"line":23,"column":47}},{"source":"../src/index.js","name":null,"original":{"line":4,"column":15},"generated":{"line":23,"column":68}},{"source":"../src/index.js","name":"state","original":{"line":6,"column":7},"generated":{"line":25,"column":8}},{"source":"../src/index.js","name":null,"original":{"line":6,"column":2},"generated":{"line":25,"column":13}},{"source":"../src/index.js","name":null,"original":{"line":6,"column":15},"generated":{"line":25,"column":16}},{"source":"../src/index.js","name":null,"original":{"line":7,"column":18},"generated":{"line":26,"column":18}},{"source":"../src/index.js","name":null,"original":{"line":6,"column":2},"generated":{"line":27,"column":3}},{"source":"../src/index.js","name":"loadComponent","original":{"line":10,"column":1},"generated":{"line":31,"column":22}},{"source":"../src/index.js","name":null,"original":{"line":10,"column":16},"generated":{"line":31,"column":63}},{"source":"../src/index.js","name":null,"original":{"line":11,"column":6},"generated":{"line":34,"column":6}},{"source":"../src/index.js","name":"props","original":{"line":11,"column":11},"generated":{"line":34,"column":11}},{"source":"../src/index.js","name":null,"original":{"line":11,"column":6},"generated":{"line":34,"column":16}},{"source":"../src/index.js","name":"component","original":{"line":11,"column":17},"generated":{"line":34,"column":17}},{"source":"../src/index.js","name":null,"original":{"line":11,"column":2},"generated":{"line":34,"column":26}},{"source":"../src/index.js","name":null,"original":{"line":11,"column":28},"generated":{"line":34,"column":28}},{"source":"../src/index.js","name":null,"original":{"line":12,"column":10},"generated":{"line":35,"column":10}},{"source":"../src/index.js","name":"setState","original":{"line":12,"column":15},"generated":{"line":35,"column":15}},{"source":"../src/index.js","name":null,"original":{"line":12,"column":10},"generated":{"line":35,"column":23}},{"source":"../src/index.js","name":null,"original":{"line":12,"column":24},"generated":{"line":35,"column":24}},{"source":"../src/index.js","name":null,"original":{"line":13,"column":19},"generated":{"line":36,"column":19}},{"source":"../src/index.js","name":"props","original":{"line":13,"column":24},"generated":{"line":36,"column":24}},{"source":"../src/index.js","name":null,"original":{"line":13,"column":19},"generated":{"line":36,"column":29}},{"source":"../src/index.js","name":"component","original":{"line":13,"column":30},"generated":{"line":36,"column":30}},{"source":"../src/index.js","name":null,"original":{"line":12,"column":10},"generated":{"line":37,"column":4}},{"source":"../src/index.js","name":null,"original":{"line":12,"column":3},"generated":{"line":37,"column":5}},{"source":"../src/index.js","name":"componentData","original":{"line":16,"column":8},"generated":{"line":39,"column":6}},{"source":"../src/index.js","name":null,"original":{"line":16,"column":24},"generated":{"line":39,"column":22}},{"source":"../src/index.js","name":"props","original":{"line":16,"column":29},"generated":{"line":39,"column":27}},{"source":"../src/index.js","name":null,"original":{"line":16,"column":24},"generated":{"line":39,"column":32}},{"source":"../src/index.js","name":"getComponent","original":{"line":16,"column":35},"generated":{"line":39,"column":33}},{"source":"../src/index.js","name":null,"original":{"line":16,"column":24},"generated":{"line":39,"column":45}},{"source":"../src/index.js","name":null,"original":{"line":16,"column":48},"generated":{"line":39,"column":46}},{"source":"../src/index.js","name":"props","original":{"line":16,"column":53},"generated":{"line":39,"column":51}},{"source":"../src/index.js","name":null,"original":{"line":16,"column":48},"generated":{"line":39,"column":56}},{"source":"../src/index.js","name":"url","original":{"line":16,"column":59},"generated":{"line":39,"column":57}},{"source":"../src/index.js","name":null,"original":{"line":16,"column":24},"generated":{"line":39,"column":60}},{"source":"../src/index.js","name":null,"original":{"line":16,"column":64},"generated":{"line":39,"column":62}},{"source":"../src/index.js","name":null,"original":{"line":16,"column":81},"generated":{"line":39,"column":78}},{"source":"../src/index.js","name":"component","original":{"line":16,"column":66},"generated":{"line":40,"column":7}},{"source":"../src/index.js","name":null,"original":{"line":16,"column":81},"generated":{"line":40,"column":16}},{"source":"../src/index.js","name":"component","original":{"line":16,"column":66},"generated":{"line":40,"column":24}},{"source":"../src/index.js","name":null,"original":{"line":16,"column":81},"generated":{"line":40,"column":33}},{"source":"../src/index.js","name":"component","original":{"line":18,"column":7},"generated":{"line":43,"column":7}},{"source":"../src/index.js","name":null,"original":{"line":18,"column":3},"generated":{"line":43,"column":16}},{"source":"../src/index.js","name":null,"original":{"line":18,"column":18},"generated":{"line":43,"column":18}},{"source":"../src/index.js","name":"setState","original":{"line":19,"column":9},"generated":{"line":44,"column":11}},{"source":"../src/index.js","name":null,"original":{"line":19,"column":4},"generated":{"line":44,"column":19}},{"source":"../src/index.js","name":null,"original":{"line":19,"column":18},"generated":{"line":44,"column":20}},{"source":"../src/index.js","name":"component","original":{"line":20,"column":20},"generated":{"line":45,"column":20}},{"source":"../src/index.js","name":null,"original":{"line":19,"column":4},"generated":{"line":46,"column":5}},{"source":"../src/index.js","name":null,"original":{"line":16,"column":24},"generated":{"line":48,"column":3}},{"source":"../src/index.js","name":null,"original":{"line":23,"column":5},"generated":{"line":48,"column":5}},{"source":"../src/index.js","name":null,"original":{"line":23,"column":19},"generated":{"line":48,"column":14}},{"source":"../src/index.js","name":null,"original":{"line":23,"column":5},"generated":{"line":48,"column":16}},{"source":"../src/index.js","name":null,"original":{"line":23,"column":23},"generated":{"line":48,"column":18}},{"source":"../src/index.js","name":"props","original":{"line":23,"column":28},"generated":{"line":48,"column":23}},{"source":"../src/index.js","name":null,"original":{"line":23,"column":5},"generated":{"line":48,"column":28}},{"source":"../src/index.js","name":null,"original":{"line":23,"column":35},"generated":{"line":48,"column":30}},{"source":"../src/index.js","name":"props","original":{"line":23,"column":40},"generated":{"line":48,"column":35}},{"source":"../src/index.js","name":null,"original":{"line":23,"column":35},"generated":{"line":48,"column":40}},{"source":"../src/index.js","name":"matches","original":{"line":23,"column":46},"generated":{"line":48,"column":41}},{"source":"../src/index.js","name":null,"original":{"line":23,"column":5},"generated":{"line":48,"column":48}},{"source":"../src/index.js","name":null,"original":{"line":16,"column":24},"generated":{"line":48,"column":49}},{"source":"../src/index.js","name":null,"original":{"line":16,"column":2},"generated":{"line":48,"column":50}},{"source":"../src/index.js","name":"componentData","original":{"line":26,"column":6},"generated":{"line":51,"column":6}},{"source":"../src/index.js","name":"componentData","original":{"line":26,"column":23},"generated":{"line":51,"column":23}},{"source":"../src/index.js","name":"then","original":{"line":26,"column":37},"generated":{"line":51,"column":37}},{"source":"../src/index.js","name":null,"original":{"line":26,"column":2},"generated":{"line":51,"column":41}},{"source":"../src/index.js","name":null,"original":{"line":26,"column":43},"generated":{"line":51,"column":43}},{"source":"../src/index.js","name":null,"original":{"line":29,"column":4},"generated":{"line":54,"column":4}},{"source":"../src/index.js","name":"url","original":{"line":29,"column":5},"generated":{"line":54,"column":14}},{"source":"../src/index.js","name":null,"original":{"line":29,"column":4},"generated":{"line":54,"column":17}},{"source":"../src/index.js","name":null,"original":{"line":29,"column":11},"generated":{"line":54,"column":19}},{"source":"../src/index.js","name":"then","original":{"line":30,"column":18},"generated":{"line":55,"column":18}},{"source":"../src/index.js","name":null,"original":{"line":30,"column":4},"generated":{"line":55,"column":22}},{"source":"../src/index.js","name":null,"original":{"line":30,"column":23},"generated":{"line":55,"column":23}},{"source":"../src/index.js","name":null,"original":{"line":30,"column":36},"generated":{"line":55,"column":44}},{"source":"../src/index.js","name":"url","original":{"line":31,"column":9},"generated":{"line":56,"column":9}},{"source":"../src/index.js","name":null,"original":{"line":31,"column":17},"generated":{"line":56,"column":17}},{"source":"../src/index.js","name":"props","original":{"line":31,"column":22},"generated":{"line":56,"column":24}},{"source":"../src/index.js","name":null,"original":{"line":31,"column":17},"generated":{"line":56,"column":29}},{"source":"../src/index.js","name":"url","original":{"line":31,"column":28},"generated":{"line":56,"column":30}},{"source":"../src/index.js","name":null,"original":{"line":31,"column":5},"generated":{"line":56,"column":33}},{"source":"../src/index.js","name":null,"original":{"line":31,"column":33},"generated":{"line":56,"column":35}},{"source":"../src/index.js","name":"setState","original":{"line":32,"column":11},"generated":{"line":57,"column":13}},{"source":"../src/index.js","name":null,"original":{"line":32,"column":6},"generated":{"line":57,"column":21}},{"source":"../src/index.js","name":null,"original":{"line":32,"column":20},"generated":{"line":57,"column":22}},{"source":"../src/index.js","name":"componentData","original":{"line":32,"column":21},"generated":{"line":57,"column":24}},{"source":"../src/index.js","name":null,"original":{"line":32,"column":36},"generated":{"line":57,"column":39}},{"source":"../src/index.js","name":null,"original":{"line":32,"column":20},"generated":{"line":57,"column":43}},{"source":"../src/index.js","name":null,"original":{"line":32,"column":6},"generated":{"line":57,"column":45}},{"source":"../src/index.js","name":null,"original":{"line":32,"column":43},"generated":{"line":57,"column":47}},{"source":"../src/index.js","name":null,"original":{"line":32,"column":49},"generated":{"line":57,"column":59}},{"source":"../src/index.js","name":"loadComponent","original":{"line":33,"column":12},"generated":{"line":58,"column":14}},{"source":"../src/index.js","name":null,"original":{"line":33,"column":7},"generated":{"line":58,"column":27}},{"source":"../src/index.js","name":null,"original":{"line":32,"column":6},"generated":{"line":59,"column":7}},{"source":"../src/index.js","name":"setState","original":{"line":37,"column":10},"generated":{"line":62,"column":12}},{"source":"../src/index.js","name":null,"original":{"line":37,"column":5},"generated":{"line":62,"column":20}},{"source":"../src/index.js","name":null,"original":{"line":37,"column":19},"generated":{"line":62,"column":21}},{"source":"../src/index.js","name":"component","original":{"line":38,"column":21},"generated":{"line":63,"column":21}},{"source":"../src/index.js","name":null,"original":{"line":37,"column":5},"generated":{"line":64,"column":6}},{"source":"../src/index.js","name":null,"original":{"line":30,"column":4},"generated":{"line":65,"column":5}},{"source":"../src/index.js","name":null,"original":{"line":29,"column":3},"generated":{"line":66,"column":4}},{"source":"../src/index.js","name":null,"original":{"line":41,"column":6},"generated":{"line":66,"column":6}},{"source":"../src/index.js","name":"props","original":{"line":41,"column":11},"generated":{"line":66,"column":11}},{"source":"../src/index.js","name":null,"original":{"line":41,"column":6},"generated":{"line":66,"column":16}},{"source":"../src/index.js","name":"url","original":{"line":41,"column":17},"generated":{"line":66,"column":17}},{"source":"../src/index.js","name":null,"original":{"line":29,"column":3},"generated":{"line":66,"column":20}},{"source":"../src/index.js","name":"componentWillReceiveProps","original":{"line":44,"column":1},"generated":{"line":70,"column":22}},{"source":"../src/index.js","name":"nextProps","original":{"line":44,"column":27},"generated":{"line":70,"column":85}},{"source":"../src/index.js","name":null,"original":{"line":44,"column":37},"generated":{"line":70,"column":96}},{"source":"../src/index.js","name":null,"original":{"line":45,"column":6},"generated":{"line":73,"column":6}},{"source":"../src/index.js","name":"props","original":{"line":45,"column":11},"generated":{"line":73,"column":11}},{"source":"../src/index.js","name":null,"original":{"line":45,"column":6},"generated":{"line":73,"column":16}},{"source":"../src/index.js","name":"path","original":{"line":45,"column":17},"generated":{"line":73,"column":17}},{"source":"../src/index.js","name":null,"original":{"line":45,"column":6},"generated":{"line":73,"column":21}},{"source":"../src/index.js","name":null,"original":{"line":45,"column":25},"generated":{"line":73,"column":25}},{"source":"../src/index.js","name":"props","original":{"line":45,"column":30},"generated":{"line":73,"column":30}},{"source":"../src/index.js","name":null,"original":{"line":45,"column":25},"generated":{"line":73,"column":35}},{"source":"../src/index.js","name":"path","original":{"line":45,"column":36},"generated":{"line":73,"column":36}},{"source":"../src/index.js","name":null,"original":{"line":45,"column":25},"generated":{"line":73,"column":40}},{"source":"../src/index.js","name":"nextProps","original":{"line":45,"column":45},"generated":{"line":73,"column":45}},{"source":"../src/index.js","name":"path","original":{"line":45,"column":55},"generated":{"line":73,"column":55}},{"source":"../src/index.js","name":null,"original":{"line":45,"column":2},"generated":{"line":73,"column":59}},{"source":"../src/index.js","name":null,"original":{"line":45,"column":61},"generated":{"line":73,"column":61}},{"source":"../src/index.js","name":"setState","original":{"line":46,"column":8},"generated":{"line":74,"column":8}},{"source":"../src/index.js","name":null,"original":{"line":46,"column":3},"generated":{"line":74,"column":16}},{"source":"../src/index.js","name":null,"original":{"line":46,"column":17},"generated":{"line":74,"column":17}},{"source":"../src/index.js","name":null,"original":{"line":47,"column":19},"generated":{"line":75,"column":19}},{"source":"../src/index.js","name":null,"original":{"line":46,"column":3},"generated":{"line":76,"column":4}},{"source":"../src/index.js","name":null,"original":{"line":48,"column":6},"generated":{"line":76,"column":6}},{"source":"../src/index.js","name":null,"original":{"line":48,"column":10},"generated":{"line":76,"column":18}},{"source":"../src/index.js","name":"loadComponent","original":{"line":49,"column":9},"generated":{"line":77,"column":11}},{"source":"../src/index.js","name":null,"original":{"line":49,"column":4},"generated":{"line":77,"column":24}},{"source":"../src/index.js","name":null,"original":{"line":46,"column":3},"generated":{"line":78,"column":4}},{"source":"../src/index.js","name":"componentWillMount","original":{"line":53,"column":1},"generated":{"line":82,"column":22}},{"source":"../src/index.js","name":null,"original":{"line":53,"column":21},"generated":{"line":82,"column":73}},{"source":"../src/index.js","name":"loadComponent","original":{"line":54,"column":7},"generated":{"line":83,"column":7}},{"source":"../src/index.js","name":null,"original":{"line":54,"column":2},"generated":{"line":83,"column":20}},{"source":"../src/index.js","name":"render","original":{"line":56,"column":1},"generated":{"line":86,"column":22}},{"source":"../src/index.js","name":null,"original":{"line":56,"column":9},"generated":{"line":86,"column":49}},{"source":"../src/index.js","name":null,"original":{"line":57,"column":6},"generated":{"line":87,"column":6}},{"source":"../src/index.js","name":"state","original":{"line":57,"column":11},"generated":{"line":87,"column":11}},{"source":"../src/index.js","name":null,"original":{"line":57,"column":6},"generated":{"line":87,"column":16}},{"source":"../src/index.js","name":"componentData","original":{"line":57,"column":17},"generated":{"line":87,"column":17}},{"source":"../src/index.js","name":null,"original":{"line":57,"column":2},"generated":{"line":87,"column":30}},{"source":"../src/index.js","name":null,"original":{"line":57,"column":32},"generated":{"line":87,"column":32}},{"source":"../src/index.js","name":"h","original":{"line":58,"column":10},"generated":{"line":88,"column":10}},{"source":"../src/index.js","name":null,"original":{"line":58,"column":12},"generated":{"line":88,"column":19}},{"source":"../src/index.js","name":"state","original":{"line":58,"column":17},"generated":{"line":88,"column":24}},{"source":"../src/index.js","name":null,"original":{"line":58,"column":12},"generated":{"line":88,"column":29}},{"source":"../src/index.js","name":"componentData","original":{"line":58,"column":23},"generated":{"line":88,"column":30}},{"source":"../src/index.js","name":null,"original":{"line":58,"column":10},"generated":{"line":88,"column":43}},{"source":"../src/index.js","name":null,"original":{"line":58,"column":38},"generated":{"line":88,"column":45}},{"source":"../src/index.js","name":"props","original":{"line":58,"column":43},"generated":{"line":88,"column":50}},{"source":"../src/index.js","name":null,"original":{"line":58,"column":10},"generated":{"line":88,"column":55}},{"source":"../src/index.js","name":null,"original":{"line":58,"column":3},"generated":{"line":88,"column":56}},{"source":"../src/index.js","name":null,"original":{"line":57,"column":2},"generated":{"line":89,"column":3}},{"source":"../src/index.js","name":null,"original":{"line":59,"column":9},"generated":{"line":89,"column":9}},{"source":"../src/index.js","name":null,"original":{"line":59,"column":13},"generated":{"line":89,"column":13}},{"source":"../src/index.js","name":"props","original":{"line":59,"column":18},"generated":{"line":89,"column":18}},{"source":"../src/index.js","name":null,"original":{"line":59,"column":13},"generated":{"line":89,"column":23}},{"source":"../src/index.js","name":"loading","original":{"line":59,"column":24},"generated":{"line":89,"column":24}},{"source":"../src/index.js","name":null,"original":{"line":59,"column":9},"generated":{"line":89,"column":31}},{"source":"../src/index.js","name":null,"original":{"line":59,"column":33},"generated":{"line":89,"column":33}},{"source":"../src/index.js","name":"loadingComponent","original":{"line":60,"column":9},"generated":{"line":90,"column":7}},{"source":"../src/index.js","name":null,"original":{"line":60,"column":28},"generated":{"line":90,"column":26}},{"source":"../src/index.js","name":"props","original":{"line":60,"column":33},"generated":{"line":90,"column":31}},{"source":"../src/index.js","name":null,"original":{"line":60,"column":28},"generated":{"line":90,"column":36}},{"source":"../src/index.js","name":"loading","original":{"line":60,"column":39},"generated":{"line":90,"column":37}},{"source":"../src/index.js","name":null,"original":{"line":60,"column":28},"generated":{"line":90,"column":44}},{"source":"../src/index.js","name":null,"original":{"line":60,"column":3},"generated":{"line":90,"column":46}},{"source":"../src/index.js","name":"loadingComponent","original":{"line":61,"column":10},"generated":{"line":91,"column":10}},{"source":"../src/index.js","name":null,"original":{"line":61,"column":3},"generated":{"line":91,"column":26}},{"source":"../src/index.js","name":null,"original":{"line":63,"column":9},"generated":{"line":93,"column":9}},{"source":"../src/index.js","name":null,"original":{"line":63,"column":2},"generated":{"line":93,"column":13}},{"source":"../src/index.js","name":"Component","original":{"line":3,"column":25},"generated":{"line":97,"column":2}},{"source":"../src/index.js","name":null,"original":{"line":67,"column":0},"generated":{"line":97,"column":20}}],"sources":{"../src/index.js":"import { h, Component } from 'preact';\n\nclass AsyncRoute extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tcomponentData: null\n\t\t};\n\t}\n\tloadComponent(){\n\t\tif (this.props.component) {\n\t\t\treturn this.setState({\n\t\t\t\tcomponentData: this.props.component\n\t\t\t});\n\t\t}\n\t\tconst componentData = this.props.getComponent(this.props.url, ({component}) => {\n\t\t\t// Named param for making callback future proof\n\t\t\tif (component) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tcomponentData: component\n\t\t\t\t});\n\t\t\t}\n\t\t}, Object.assign({}, this.props, this.props.matches));\n\n\t\t// In case returned value was a promise\n\t\tif (componentData && componentData.then) {\n\t\t\t// IIFE to check if a later ending promise was creating a race condition\n\t\t\t// Check test case for more info\n\t\t\t((url)=>{\n\t\t\t\tcomponentData.then(component => {\n\t\t\t\t\tif (url !== this.props.url) {\n\t\t\t\t\t\tthis.setState({componentData: null}, () => {\n\t\t\t\t\t\t\tthis.loadComponent();\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tcomponentData: component\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t})(this.props.url);\n\t\t}\n\t}\n\tcomponentWillReceiveProps(nextProps){\n\t\tif (this.props.path && this.props.path !== nextProps.path) {\n\t\t\tthis.setState({\n\t\t\t\tcomponentData: null\n\t\t\t}, ()=>{\n\t\t\t\tthis.loadComponent();\n\t\t\t});\n\t\t}\n\t}\n\tcomponentWillMount(){\n\t\tthis.loadComponent();\n\t}\n\trender(){\n\t\tif (this.state.componentData) {\n\t\t\treturn h(this.state.componentData, this.props);\n\t\t} else if (this.props.loading) {\n\t\t\tconst loadingComponent = this.props.loading();\n\t\t\treturn loadingComponent;\n\t\t}\n\t\treturn null;\n\t}\n}\n\nexport default AsyncRoute;\n"},"lineCount":null}},"error":null,"hash":"6b988f28ec9f896f5aa391240acb437c","cacheData":{"env":{}}}